<section class="auth-page">
  <app-glass-card>
    <h1 class="auth-form__title">Register</h1>

    <form (ngSubmit)="onSubmit()" [formGroup]="form" class="auth-form">
      <app-auth-form-field
        label="Email"
        controlName="email"
        [control]="form.controls['email']"
        type="email"
        placeholder="you@example.com"
        autocomplete="email"
        errorMessage="Valid email is required"
      />
      <app-auth-form-field
        label="Password"
        controlName="password"
        [control]="form.controls['password']"
        type="password"
        placeholder="At least 6 characters"
        autocomplete="new-password"
        errorMessage="Password must be at least 6 characters"
      />
      <app-auth-form-field
        label="Name (optional)"
        controlName="name"
        [control]="form.controls['name']"
        type="text"
        placeholder="Your name"
        autocomplete="name"
      />

      <app-auth-form-error [message]="authFacade.error()" />

      <app-auth-submit-button
        label="Register"
        loadingLabel="Registering..."
        [loading]="authFacade.status() === 'loading'"
        [disabled]="form.invalid || authFacade.status() === 'loading'"
      />
    </form>

    <app-auth-footer-link text="Already have an account?" linkText="Log in" link="/login" />
  </app-glass-card>
</section>
